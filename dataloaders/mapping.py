'''
lable mapping between different datasets
'''

from __future__ import print_function, absolute_import, division
from collections import namedtuple


Label = namedtuple('Label', ['name', 'id', 'trainId', 'color'])


labels_cityscapes = [
    #       name                     id    trainId   color
    Label('unlabeled'            ,  0,      255, (  0,  0,  0)),
    Label('ego vehicle'          ,  1,      255, (  0,  0,  0)),
    Label('rectification border' ,  2,      255, (  0,  0,  0)),
    Label('out of roi'           ,  3,      255, (  0,  0,  0)),
    Label('static'               ,  4,      255, (  0,  0,  0)),
    Label('dynamic'              ,  5,      255, (111, 74,  0)),
    Label('ground'               ,  6,      255, ( 81,  0, 81)),
    Label('road'                 ,  7,        0, (128, 64,128)),
    Label('sidewalk'             ,  8,        1, (244, 35,232)),
    Label('parking'              ,  9,      255, (250,170,160)),
    Label('rail track'           , 10,      255, (230,150,140)),
    Label('building'             , 11,        2, ( 70, 70, 70)),
    Label('wall'                 , 12,        3, (102,102,156)),
    Label('fence'                , 13,        4, (190,153,153)),
    Label('guard rail'           , 14,      255, (180,165,180)),
    Label('bridge'               , 15,      255, (150,100,100)),
    Label('tunnel'               , 16,      255, (150,120, 90)),
    Label('pole'                 , 17,        5, (153,153,153)),
    Label('polegroup'            , 18,      255, (153,153,153)),
    Label('traffic light'        , 19,        6, (250,170, 30)),
    Label('traffic sign'         , 20,        7, (220,220,  0)),
    Label('vegetation'           , 21,        8, (107,142, 35)),
    Label('terrain'              , 22,        9, (152,251,152)),
    Label('sky'                  , 23,       10, ( 70,130,180)),
    Label('person'               , 24,       11, (220, 20, 60)),
    Label('rider'                , 25,       12, (255,  0,  0)),
    Label('car'                  , 26,       13, (  0,  0,142)),
    Label('truck'                , 27,       14, (  0,  0, 70)),
    Label('bus'                  , 28,       15, (  0, 60,100)),
    Label('caravan'              , 29,      255, (  0,  0, 90)),
    Label('trailer'              , 30,      255, (  0,  0,110)),
    Label('train'                , 31,       16, (  0, 80,100)),
    Label('motorcycle'           , 32,       17, (  0,  0,230)),
    Label('bicycle'              , 33,       18, (119, 11, 32)),
    Label('license plate'        , -1,       -1, (  0,  0,142)),
]

labels_apolloscape = [
    Label('others', 0, 255, (0, 0, 0)),
    Label('rover', 1, 255, (0, 0, 0)),
    Label('sky', 17, 0, (0, 0, 0)),
    Label('car', 33, 1, (0, 0, 0)),
    Label('car_groups', 161, 1, (0, 0, 0)),
    Label('motorbicycle', 34, 2, (0, 0, 0)),
    Label('motorbicycle_group', 162, 2, (0, 0, 0)),
    Label('bicycle', 35, 3, (0, 0, 0)),
    Label('bicycle_group', 163, 3, (0, 0, 0)),
    Label('person', 36, 4, (0, 0, 0)),
    Label('person_group', 164, 4, (0, 0, 0)),
    Label('rider', 37, 5, (0, 0, 0)),
    Label('rider_group', 165, 5, (0, 0, 0)),
    Label('truck', 38, 6, (0, 0, 0)),
    Label('truck_group', 166, 6, (0, 0, 0)),
    Label('bus', 39, 7, (0, 0, 0)),
    Label('bus_group', 167, 7, (0, 0, 0)),
    Label('tricycle', 40, 8, (0, 0, 0)),
    Label('tricycle_group', 168, 8, (0, 0, 0)),
    Label('road', 49, 9, (0, 0, 0)),
    Label('siderwalk', 50, 10, (0, 0, 0)),
    Label('traffic_cone', 65, 11, (0, 0, 0)),
    Label('road_pile', 66, 12, (0, 0, 0)),
    Label('fence', 67, 13, (0, 0, 0)),
    Label('traffic_light', 81, 14, (0, 0, 0)),
    Label('pole', 82, 15, (0, 0, 0)),
    Label('traffic_sign', 83, 16, (0, 0, 0)),
    Label('wall', 84, 17, (0, 0, 0)),
    Label('dustbin', 85, 18, (0, 0, 0)),
    Label('billboard', 86, 19, (0, 0, 0)),
    Label('building', 97, 20, (0, 0, 0)),
    Label('bridge', 98, 255, (0, 0, 0)),
    Label('tunnel', 99, 255, (0, 0, 0)),
    Label('overpass', 100, 255, (0, 0, 0)),
    Label('vegatation', 113, 21, (0, 0, 0)),
    Label('unlabeled', 255, 255, (0, 0, 0))
]

labels_kitti = [
    #       name                     id    trainId      color
    Label('unlabeled'            ,  0,       255, (  0,  0,  0)),
    Label('ego vehicle'          ,  1,       255, (  0,  0,  0)),
    Label('rectification border' ,  2,       255, (  0,  0,  0)),
    Label('out of roi'           ,  3,       255, (  0,  0,  0)),
    Label('static'               ,  4,       255, (  0,  0,  0)),
    Label('dynamic'              ,  5,       255, (111, 74,  0)),
    Label('ground'               ,  6,       255, ( 81,  0, 81)),
    Label('road'                 ,  7,         0, (128, 64,128)),
    Label('sidewalk'             ,  8,         1, (244, 35,232)),
    Label('parking'              ,  9,       255, (250,170,160)),
    Label('rail track'           , 10,       255, (230,150,140)),
    Label('building'             , 11,         2, ( 70, 70, 70)),
    Label('wall'                 , 12,         3, (102,102,156)),
    Label('fence'                , 13,         4, (190,153,153)),
    Label('guard rail'           , 14,       255, (180,165,180)),
    Label('bridge'               , 15,       255, (150,100,100)),
    Label('tunnel'               , 16,       255, (150,120, 90)),
    Label('pole'                 , 17,         5, (153,153,153)),
    Label('polegroup'            , 18,       255, (153,153,153)),
    Label('traffic light'        , 19,         6, (250,170, 30)),
    Label('traffic sign'         , 20,         7, (220,220,  0)),
    Label('vegetation'           , 21,         8, (107,142, 35)),
    Label('terrain'              , 22,         9, (152,251,152)),
    Label('sky'                  , 23,        10, ( 70,130,180)),
    Label('person'               , 24,        11, (220, 20, 60)),
    Label('rider'                , 25,        12, (255,  0,  0)),
    Label('car'                  , 26,        13, (  0,  0,142)),
    Label('truck'                , 27,        14, (  0,  0, 70)),
    Label('bus'                  , 28,        15, (  0, 60,100)),
    Label('caravan'              , 29,       255, (  0,  0, 90)),
    Label('trailer'              , 30,       255, (  0,  0,110)),
    Label('train'                , 31,        16, (  0, 80,100)),
    Label('motorcycle'           , 32,        17, (  0,  0,230)),
    Label('bicycle'              , 33,        18, (119, 11, 32)),
    Label('garage'               , 34,         2, ( 64,128,128)),
    Label('gate'                 , 35,         4, (190,153,153)),
    Label('stop'                 , 36,       255, (150,120, 90)),
    Label('smallpole'            , 37,         5, (153,153,153)),
    Label('lamp'                 , 38,       255, (0,   64, 64)),
    Label('trash bin'            , 39,       255, (0,  128,192)),
    Label('vending machine'      , 40,       255, (128, 64,  0)),
    Label('box'                  , 41,       255, (64,  64,128)),
    Label('unknown construction' , 42,       255, (102,  0,  0)),
    Label('unknown vehicle'      , 43,       255, ( 51,  0, 51)),
    Label('unknown object'       , 44,       255, ( 32, 32, 32)),
    Label('license plate'        , -1,        -1, (  0,  0,142)),
]


# apolloscape has no Train(16) class.
APOLLO2CS = [
    [0, 255],
    [1, 255],
    [17, 10],   # no "sky" in APOLLO
    [33, 13],
    [161, 13],
    [34, 17],
    [162, 17],
    [35, 18],
    [163, 18],
    [36, 11],
    [164, 11],
    [37, 12],
    [165, 12],
    [38, 14],
    [166, 14],
    [39, 15],
    [167, 15],
    [40, 255],
    [168, 255],
    [49, 0],
    [50, 1],
    [65, 255],
    [66, 0],
    [67, 4],
    [81, 6],
    [82, 5],
    [83, 7],
    [84, 3],
    [85, 255],
    [86, 255],
    [97, 2],
    [98, 255],
    [99, 255],
    [100, 255],
    [113, 8],
    [255, 255]
]

# no class 9, 10, 16
APOLLO16 = [
    [0, 0],
    [1, 1],
    [2, 2],
    [3, 3],
    [4, 4],
    [5, 5],
    [6, 6],
    [7, 7],
    [8, 8],
    [9, 255],
    [10, 255],
    [11, 9],
    [12, 10],
    [13, 11],
    [14, 12],
    [15, 13],
    [16, 255],
    [17, 14],
    [18, 15],
    [19, 16]
]

KITTI2CS = {lb.id: lb.trainId for lb in labels_kitti}
# print(KITTI2CS)